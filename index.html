<!doctype html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2025 by nayeon9759 (http://jsbin.com/xotodom/3/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html lang="ko">
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width,initial-scale=1" />
 <title>ë°˜ë ¤ì¹œêµ¬ ê¸´ê¸‰ì¼€ì–´ ì„¤ë¬¸</title>
 <link rel="stylesheet" href="styles.css">
 <style id="jsbin-css">
/* ê¸°ì¡´ ë””ìì¸ ê·¸ëŒ€ë¡œ ìœ ì§€ */
:root{
 --bg:#0f1724;
 --primary:#ff4d4f;
 --accent:#ff9f43;
 --card:#1f2a38;
 --muted:#b9c0d7;
  --text-main: #e6eef8; /* ëª…í™•í•œ ë©”ì¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
}

*{box-sizing:border-box}
/* bodyì— ê¸°ë³¸ ë°°ê²½ê³¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê°•ì œ ì ìš© */
body{
    margin:0; 
    font-family: "Noto Sans KR", sans-serif; 
    background:var(--bg); 
    color:var(--text-main); 
    padding:20px;
}
.wrap{max-width:900px;margin:0 auto;border-radius:12px;background:var(--card);padding:16px;box-shadow:0 6px 20px rgba(0,0,0,0.5);}

/* HERO */
.hero{padding:16px 20px;border-bottom:1px solid rgba(255,255,255,0.1)}
.hero-inner h1{margin:0;color:var(--primary)}
.lead{margin:4px 0 0;color:var(--muted);font-size:14px}

/* TABS */
.tabs{display:flex; gap:6px; margin:12px 0;}
.tab-btn{flex:1;padding:8px 10px;border-radius:8px;background:var(--card);border:1px solid rgba(255,255,255,0.1);color:var(--muted);cursor:pointer;transition:0.2s}
.tab-btn.active{background:var(--primary);color:white;box-shadow:0 4px 12px rgba(255,77,79,0.4);}

/* submissions */
.submissions-list{
 margin-top:12px;
 display:grid;
 gap:8px;
 max-height:300px; 
 overflow:auto; 
 padding-right:4px; 
}

/* PANELS */
.panel{display:none;padding:12px 0}
.panel.active{display:block}
.form-card{
    background:rgba(255,255,255,0.05);
    padding:12px;
    margin-bottom:24px; /* ì´ì „ ìˆ˜ì •: ì§ˆë¬¸ ë°•ìŠ¤ ê°„ê²© ë„“í˜ */
    border-radius:8px;
    border:1px solid rgba(255,255,255,0.1)
}
/* â­ï¸ ì§ˆë¬¸ í…ìŠ¤íŠ¸ ì•„ë˜ ê°„ê²©ì„ ë„“í˜ (6px -> 12px) */
.q{font-weight:700;margin-bottom:12px} 
.required{color:var(--primary)}

.options.inline label{margin-right:16px}
.options.grid{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.options label{display:flex;align-items:center;padding:8px;border-radius:6px;background:rgba(255,255,255,0.02);cursor:pointer;transition:0.2s}
.options input{margin-right:6px}

/* ì…ë ¥ í•„ë“œ ìƒ‰ìƒ ëª…í™•í™” */
select,textarea,input[type="text"]{
    width:100%;
    padding:8px;
    border-radius:6px;
    background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.1);
    color:var(--text-main); 
    font-size:14px;
}

/* Buttons */
.btn{padding:8px 12px;border-radius:6px;font-weight:700;cursor:pointer;border:none;transition:0.2s}
.btn.primary{background:var(--primary);color:white;box-shadow:0 4px 12px rgba(255,77,79,0.4);}
.btn.primary:hover{transform:scale(1.05)}
.btn.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.1);}
.btn.small{padding:4px 8px;font-size:12px}

/* submissions */
.record{background:rgba(255,255,255,0.02);padding:8px;border-radius:6px}

/* guide */
.guide-card{padding:10px;background:rgba(255,255,255,0.01);border-radius:6px;border:1px solid rgba(255,255,255,0.1)}

/* footer */
.footer{margin-top:12px;text-align:center;font-size:12px;color:var(--muted)}

/* YouTube ì˜ìƒ ì„¹ì…˜ */
.video-guide{
 margin-top: 20px;
 padding: 16px;
 background: rgba(255, 77, 79, 0.05); 
 border-radius: 8px;
 border: 1px solid var(--primary);
}
.guide-title{
 font-size: 16px;
 color: var(--primary);
 margin-top: 0;
 margin-bottom: 12px;
 font-weight: 700;
}
.video-container{
 position: relative;
 width: 100%;
 /* ìœ íŠœë¸Œ í™”ë©´ í¬ê¸° ì‚´ì§ ì¤„ì„ */
 padding-bottom: 50%;
 height: 0;
 overflow: hidden;
 border-radius: 6px;
}
.video-container iframe{
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
}
.video-caption{
 font-size: 13px;
 color: var(--muted);
 margin-top: 10px;
 text-align: center;
}

/* ê¸°ì¡´ chart ê´€ë ¨ ìŠ¤íƒ€ì¼ ì œê±° */
.charts h4{
 font-size: 16px;
 color: var(--primary);
 margin-bottom: 12px;
}
.charts canvas{
 display: none;
}

@media(max-width:640px){.options.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
 <main class="wrap">
  <header class="hero">
   <div class="hero-inner">
    <h1>ğŸ¾ ê¸´ê¸‰! 24ì‹œ ë™ë¬¼ë³‘ì› ì„¤ë¬¸</h1>
    <p class="lead">ì‘ê¸‰ ìƒí™©â€”ìš°ë¦¬ ì„œë¹„ìŠ¤ê°€ ì§„ì§œ ë„ì›€ì´ ë˜ë„ë¡, ì†”ì§í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”.</p>
   </div>
  </header>

  <nav class="tabs">
   <button class="tab-btn active" data-target="survey">ì„¤ë¬¸ ì°¸ì—¬</button>
   <button class="tab-btn" data-target="guide">ì„¤ë¬¸ ì•ˆë‚´</button>
   <button class="tab-btn" data-target="submissions">ë‹¤ë¥¸ ì‚¬ëŒ ì˜ê²¬ ë³´ê¸°</button>
  </nav>

    <section id="survey" class="tab-panel active panel">
   <form id="petSurveyForm" class="survey-form" autocomplete="off">
        <div class="form-card">
     <label class="q">1. ë°˜ë ¤ë™ë¬¼ì„ í‚¤ìš°ì‹œë‚˜ìš”? <span class="required">*</span></label>
     <div class="options inline">
      <label><input type="radio" name="hasPet" value="ì˜ˆ" required> ì˜ˆ</label>
      <label><input type="radio" name="hasPet" value="ì•„ë‹ˆì˜¤"> ì•„ë‹ˆì˜¤</label>
     </div>
    </div>

        <div class="form-card">
     <label class="q">2. ë‹¹ì‹ ì´ ì‚¬ëŠ” ì§€ì—­ì€ ì–´ë””ì¸ê°€ìš”?</label>
     <div class="options">
      <label><input type="radio" name="region" value="ì„œìš¸"> ì„œìš¸</label>
      <label><input type="radio" name="region" value="ê²½ê¸°ë„"> ê²½ê¸°ë„</label>
      <label><input type="radio" name="region" value="ê²½ìƒë„"> ê²½ìƒë„</label>
      <label><input type="radio" name="region" value="ê¸°íƒ€"> ê¸°íƒ€</label>
      <input type="text" name="regionOther" placeholder="ì§ì ‘ ì…ë ¥" style="display:none;">
     </div>
    </div>

        <div class="form-card">
     <label class="q">3. í‰ì†Œ ë™ë¬¼ë³‘ì› ì„ íƒ ì‹œ ê°€ì¥ ìš°ì„ ì‹œí•˜ëŠ” ê¸°ì¤€ì€ ë¬´ì—‡ì¸ê°€ìš”? <span class="required">*</span></label>
     <select name="priorityCriteria" required>
      <option value="">ì„ íƒí•˜ì„¸ìš”</option>
      <option value="ë¹„ìš©">ë¹„ìš©</option>
      <option value="ì§ì›ì˜ ì¹œì ˆë„">ì§ì›ì˜ ì¹œì ˆë„</option>
      <option value="ê±°ë¦¬">ê±°ë¦¬</option>
      <option value="ë³‘ì›ì˜ í‰íŒ">ë³‘ì›ì˜ í‰íŒ</option>
      <option value="ì˜ë£Œì§„ì˜ ì „ë¬¸ì„± ë° ê²½í—˜">ì˜ë£Œì§„ì˜ ì „ë¬¸ì„± ë° ê²½í—˜</option>
     </select>
    </div>

        <div class="form-card">
     <label class="q">4. ì‘ê¸‰ ìƒí™©ì—ì„œ ìš°ë ¤ë˜ëŠ” ì ê³¼, í•„ìš”í•œ ì„œë¹„ìŠ¤ ê¸°ëŠ¥ì€ ë¬´ì—‡ì¸ê°€ìš”?â€ <span class="required">*</span></label>
     <textarea name="concernAndFeature" rows="5" placeholder="ì˜ˆ: ì•¼ê°„ ì‘ê¸‰ë¹„ìš©ì´ ë¶ˆíˆ¬ëª… â†’ ê°€ê²© íˆ¬ëª…ì„± & ì˜ˆìƒë¹„ìš© ê³„ì‚° ê¸°ëŠ¥" required></textarea>
    </div>

        <div class="form-card">
     <label class="q">5. ì‘ê¸‰ ìƒí™© ì‹œ ë³‘ì› ì •ë³´ì—ì„œ 'ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´(1ìˆœìœ„)'ì™€ 'ë‘ ë²ˆì§¸ë¡œ ì¤‘ìš”í•œ ì •ë³´(2ìˆœìœ„)'ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”. <span class="required">*</span></label>
     <div class="priority-grid">
      <div>
       <label class="small">1ìˆœìœ„</label>
       <select name="priority1" required>
        <option value="">ì„ íƒ</option>
        <option value="í˜„ì¬ ìš´ì˜ ì—¬ë¶€">A. í˜„ì¬ ìš´ì˜ ì—¬ë¶€</option>
        <option value="ì£¼ì°¨ ê°€ëŠ¥ ì—¬ë¶€">B. ì£¼ì°¨ ê°€ëŠ¥ ì—¬ë¶€</option>
        <option value="ì£¼ìš” ì§„ë£Œ ê³¼ëª©">C. ì£¼ìš” ì§„ë£Œ ê³¼ëª©</option>
       </select>
      </div>
      <div>
       <label class="small">2ìˆœìœ„</label>
       <select name="priority2" required>
        <option value="">ì„ íƒ</option>
        <option value="í˜„ì¬ ìš´ì˜ ì—¬ë¶€">A. í˜„ì¬ ìš´ì˜ ì—¬ë¶€</option>
        <option value="ì£¼ì°¨ ê°€ëŠ¥ ì—¬ë¶€">B. ì£¼ì°¨ ê°€ëŠ¥ ì—¬ë¶€</option>
        <option value="ì£¼ìš” ì§„ë£Œ ê³¼ëª©">C. ì£¼ìš” ì§„ë£Œ ê³¼ëª©</option>
       </select>
      </div>
     </div>
    </div>

        <div class="form-card">
     <label class="q">6. ë°˜ë ¤ë™ë¬¼ ì‘ê¸‰ ì‹œ ìµœëŒ€ ì§€ë¶ˆ ì˜í–¥ ê¸ˆì•¡ ë²”ìœ„ëŠ”? <span class="required">*</span></label>
     <div class="options grid">
      <label><input type="radio" name="priceRange" value="50ë§Œì› ë¯¸ë§Œ" required> A. 50ë§Œì› ë¯¸ë§Œ</label>
      <label><input type="radio" name="priceRange" value="50ë§Œì› ~ 100ë§Œì›"> B. 50ë§Œì› ~ 100ë§Œì›</label>
      <label><input type="radio" name="priceRange" value="100ë§Œì› ~ 200ë§Œì›"> C. 100ë§Œì› ~ 200ë§Œì›</label>
      <label><input type="radio" name="priceRange" value="200ë§Œì› ì´ìƒ"> D. 200ë§Œì› ì´ìƒ</label>
     </div>
    </div>

    <div class="form-actions">
     <button type="submit" class="btn primary">ì œì¶œí•˜ê¸°</button>
     <button type="reset" class="btn ghost">ì´ˆê¸°í™”</button>
    </div>

    <div id="msg" class="msg" aria-live="polite"></div>
   </form>
  </section>

    <section id="guide" class="tab-panel panel">
   <article class="guide-card">
    <h3>ì„¤ë¬¸ ì•ˆë‚´ & ê°œì¸ì •ë³´</h3>
    <p>ì´ ì„¤ë¬¸ì€ ë°˜ë ¤ë™ë¬¼ ì‘ê¸‰ ëŒ€ì‘ ì„œë¹„ìŠ¤ ê°œì„ ì„ ìœ„í•œ ì¡°ì‚¬ì…ë‹ˆë‹¤. ì œì¶œëœ ì‘ë‹µì€ ìµëª…ìœ¼ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤.</p>
   </article>
  </section>

    <section id="submissions" class="tab-panel panel">
   <div class="panel-head">
    <h3>ìµœê·¼ ì œì¶œëœ ì˜ê²¬</h3>
   </div>
   <div id="submissionsList" class="submissions-list">
    <div class="placeholder">ì•„ì§ ì œì¶œëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</div>
   </div>

      <div class="video-guide">
    <h4 class="guide-title">ğŸš¨ ì‘ê¸‰ ìƒí™©! ëŒ€ì²˜ë²• ì•ˆë‚´ (ì°¸ê³  ì˜ìƒ)</h4>
    <div class="video-container">
          <iframe
      width="100%"
      height="315"
      src="https://www.youtube.com/embed/DYZyQ-DVkvU"
      title="ë°˜ë ¤ë™ë¬¼ ì‘ê¸‰ìƒí™© ëŒ€ì²˜ë°©ë²•"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen>
     </iframe>
    </div>
    <p class="video-caption">
    ê¸´ê¸‰ ìƒí™© ì‹œ ì„¤ë¬¸ ì‘ë‹µì„ ê¸°ë‹¤ë¦´ ìˆ˜ ì—†ëŠ” ë¶„ë“¤ì„ ìœ„í•´, ë¯¿ì„ ìˆ˜ ìˆëŠ” ì±„ë„ì˜ ì‘ê¸‰ ëŒ€ì²˜ ì˜ìƒì„ ë°”ë¡œ ì œê³µí•©ë‹ˆë‹¤.
    </p>
   </div>
     </section>

  <footer class="footer">
   <small>Â© ë°˜ë ¤ì¹œêµ¬ ê¸´ê¸‰ì¼€ì–´ Â· ì„¤ë¬¸ìš© ë°ëª¨ í˜ì´ì§€</small>
  </footer>
 </main>

 <script src="script.js"></script>
<script id="jsbin-javascript">
document.addEventListener("DOMContentLoaded", () => {
 // Google Apps Script URL (ê³ ê°ë‹˜ ë§í¬ ìœ ì§€)
 const API_URL = 'https://script.google.com/macros/s/AKfycbwfqm6JLNMXqL1MTumvEMuCp_IeBnddDMmIKocbQaMqOzXXayFz9DzdUWHnyt4LZEZ6AA/exec';

 const form = document.getElementById("petSurveyForm");
 const msg = document.getElementById("msg");
 const submissionsList = document.getElementById("submissionsList");
 const regionOtherInput = document.querySelector('input[name="regionOther"]');
 const tabBtns = document.querySelectorAll(".tab-btn");

 let localSubmissions = []; // ì„œë²„ì—ì„œ ë¶ˆëŸ¬ì˜¨ ì „ì²´ ë°ì´í„°

 // â­ï¸ Chart.js ê´€ë ¨ ë³€ìˆ˜ ëª¨ë‘ ì œê±°ë¨

 const keyMap = {
  hasPet: "ë°˜ë ¤ë™ë¬¼ ë³´ìœ ",
  region: "ì§€ì—­",
  regionOther: "ì§ì ‘ ì…ë ¥ ì§€ì—­",
  priorityCriteria: "ë³‘ì› ì„ íƒ ê¸°ì¤€",
  concernAndFeature: "ë¶ˆë§Œ/í•„ìš” ê¸°ëŠ¥",
  priority1: "1ìˆœìœ„ ì •ë³´",
  priority2: "2ìˆœìœ„ ì •ë³´",
  priceRange: "ìµœëŒ€ ì§€ë¶ˆ ì˜í–¥"
 };

 /**
 * 1. ì„œë²„ì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ localSubmissionsë¥¼ ê°±ì‹ í•˜ê³ , í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦¬ëŠ” í•µì‹¬ í•¨ìˆ˜
 */
 const fetchSubmissions = async () => {
  try {
   const uniqueApiUrl = `${API_URL}?t=${new Date().getTime()}`;
   submissionsList.innerHTML = '<div class="placeholder">ì œì¶œëœ ê¸°ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>';

   const res = await fetch(uniqueApiUrl);
   if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);
  
   const data = await res.json();
  
   if (Array.isArray(data)) {
    localSubmissions = data;
    renderSubmissions(); // ëª©ë¡ ê°±ì‹ 
    // â­ï¸ renderCharts í˜¸ì¶œ ì œê±°
   } else {
    submissionsList.innerHTML = '<div class="placeholder">ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: ì„œë²„ ì‘ë‹µ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>';
   }
  } catch (error) {
   console.error("ì„œë²„ ë°ì´í„° ë¡œë”© ì˜¤ë¥˜:", error);
   submissionsList.innerHTML = '<div class="placeholder">ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë˜ëŠ” ì„œë²„ ì˜¤ë¥˜ë¡œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
  }
 };


 // 2. í¼ ì œì¶œ (POST í›„, ì „ì²´ ë°ì´í„° ì¬ìš”ì²­ ë¡œì§ í¬í•¨)
 form.addEventListener("submit", async (e) => {
  e.preventDefault();
  msg.textContent = "âœ… ì œì¶œ ì¤‘...";

  const data = new FormData(form);
  const payload = {};
  for (const [k, v] of data.entries()) payload[k] = v;

  try {
   await fetch(API_URL, {
    method: 'POST',
    mode: 'no-cors',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
   });

   msg.textContent = "ğŸ’Œ ì œì¶œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì˜ê²¬ ëª©ë¡ì„ ê°±ì‹ í•©ë‹ˆë‹¤.";
  
   await fetchSubmissions();

   form.reset();
   regionOtherInput.style.display = "none";
  
   // 'ë‹¤ë¥¸ ì‚¬ëŒ ì˜ê²¬ ë³´ê¸°' íƒ­ìœ¼ë¡œ ìë™ ì „í™˜ ë° í™œì„±í™”
   document.querySelector('.tab-btn[data-target="submissions"]').click();

  } catch (error) {
   msg.textContent = "âš ï¸ ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜ ë°œìƒ. ë°ì´í„° ê°±ì‹ ì„ ì‹œë„í•©ë‹ˆë‹¤.";
   await fetchSubmissions();
   document.querySelector('.tab-btn[data-target="submissions"]').click();
  }
 });

 // 3. submissions ë Œë”ë§
 const renderSubmissions = () => {
  submissionsList.innerHTML = "";
 
  if (localSubmissions.length === 0) {
    submissionsList.innerHTML = '<div class="placeholder">ì•„ì§ ì œì¶œëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
    return;
  }
 
  localSubmissions.slice().reverse().forEach((sub) => {
   const card = document.createElement("div");
   card.className = "record";
   let html = Object.entries(sub)
    .filter(([k,v]) => !(k === "regionOther" && sub.region !== "ê¸°íƒ€") && v !== "")
    // â­ï¸ ì„ì‹œë¡œ Reaction ë“±ì˜ ì•Œ ìˆ˜ ì—†ëŠ” í‚¤ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.
    .filter(([k, v]) => keyMap[k] !== undefined) 
    .map(([k,v]) => `<div><strong>${keyMap[k]||k}:</strong> ${v}</div>`)
    .join("");
   
   if (!html) html = "<div>ì œì¶œëœ ì •ë³´ ì—†ìŒ</div>";
   card.innerHTML = html;
   submissionsList.appendChild(card);
  });
 };

 // â­ï¸ 4. renderCharts í•¨ìˆ˜ ì œê±°

 // 5. íƒ­ í´ë¦­ ì´ë²¤íŠ¸ (íƒ­ ì „í™˜ ë° submissions íƒ­ í´ë¦­ ì‹œ ì„œë²„ ë°ì´í„° ì¬ìš”ì²­)
 tabBtns.forEach(btn => {
  btn.addEventListener("click", () => {
   tabBtns.forEach(b => b.classList.remove("active"));
   document.querySelectorAll(".tab-panel").forEach(p => p.classList.remove("active"));
  
   btn.classList.add("active");
   document.getElementById(btn.dataset.target).classList.add("active");

   if (btn.dataset.target === "submissions") {
    fetchSubmissions(); // íƒ­ í´ë¦­ ì‹œì—ë„ ìµœì‹  ë°ì´í„° ê°•ì œ ë¡œë“œ
   }
  });
 });

 // 6. ì´ˆê¸° ì„œë²„ ë°ì´í„° ë¡œë“œ
 fetchSubmissions();

 // 7. "ê¸°íƒ€" ì…ë ¥ í† ê¸€ (ê¸°ì¡´ ìœ ì§€)
 document.querySelectorAll('input[name="region"]').forEach(radio => {
  radio.addEventListener('change', () => {
   if (radio.value === "ê¸°íƒ€") {
    regionOtherInput.style.display = "block";
    regionOtherInput.required = true;
   } else {
    regionOtherInput.style.display = "none";
    regionOtherInput.required = false;
   }
  });
 });
});
</script>
</body>
</html>